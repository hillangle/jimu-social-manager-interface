(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{a3a7:function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var a=r("7a23"),o=Object(a["gb"])("data-v-4dfde5bc");Object(a["I"])("data-v-4dfde5bc");var n={class:"login-wrap"},s={class:"ms-login"},c=Object(a["o"])("div",{class:"ms-title"},"基沐社交平台后台管理系统",-1),u={class:"login-btn"},i=Object(a["n"])("登录"),l=Object(a["o"])("p",{class:"login-tips"},"Tips : 用户名和密码随便填。",-1);Object(a["G"])();var d=o((function(e,t,r,d,m,p){var b=Object(a["O"])("el-button"),f=Object(a["O"])("el-input"),O=Object(a["O"])("el-form-item"),j=Object(a["O"])("el-form");return Object(a["F"])(),Object(a["k"])("div",n,[Object(a["o"])("div",s,[c,Object(a["o"])(j,{model:m.param,rules:m.rules,ref:"login","label-width":"0px",class:"ms-content"},{default:o((function(){return[Object(a["o"])(O,{prop:"username"},{default:o((function(){return[Object(a["o"])(f,{modelValue:m.param.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m.param.username=e}),placeholder:"username",ref:"username"},{prepend:o((function(){return[Object(a["o"])(b,{icon:"el-icon-user"})]})),_:1},8,["modelValue"])]})),_:1}),Object(a["o"])(O,{prop:"password"},{default:o((function(){return[Object(a["o"])(f,{type:"password",placeholder:"password",modelValue:m.param.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m.param.password=e}),onKeyup:t[3]||(t[3]=Object(a["eb"])((function(e){return p.submitForm()}),["enter"])),ref:"password"},{prepend:o((function(){return[Object(a["o"])(b,{icon:"el-icon-lock"})]})),_:1},8,["modelValue"])]})),_:1}),Object(a["o"])("div",u,[Object(a["o"])(b,{type:"primary",onClick:t[4]||(t[4]=function(e){return p.submitForm()})},{default:o((function(){return[i]})),_:1})]),l]})),_:1},8,["model","rules"])])])})),m=r("bc3a"),p=r.n(m),b=r("ff51"),f={data:function(){return{param:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},created:function(){this.$store.commit("clearTags")},methods:{submitForm:function(){var e=this;this.$refs.login.validate((function(t){if(!t)return e.$message.error("请输入账号和密码"),!1;var r=e.param.username,a=e.param.password;p.a.post(b["a"]+"auth/login",{account:r,password:a,userRole:"ROLE_SYSUSER"}).then(function(e){e.data.token?(localStorage.setItem("ms_username",r),localStorage.setItem("token",e.data.token),this.$router.push("/dashboard")):this.$message.error("登录失败")}.bind(e)).catch(function(e){console.log(e),this.$message.error("登录失败")}.bind(e))}))}}};r("d44f");f.render=d,f.__scopeId="data-v-4dfde5bc";t["default"]=f},d44f:function(e,t,r){"use strict";r("a3a7")}}]);
//# sourceMappingURL=login.60c86d99.js.map